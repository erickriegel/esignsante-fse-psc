= POC esignsante-psc 


== Introduction
Ce site est la documentation de l'API esignsante-psc extraite des tests.

Pour tester l'API, vous pouvez utiliser swagger: +
http://localhost:8080:/esignsante-psc/v1/swagger-ui/ +
Ne pas oublier d'activer le profil 'swagger' au démarrage de Spring: 
java -jar *-Dspring.profiles.active=swagger* esignsante-psc-0.0.13-SNAPSHOT.jar .../application.properties ...

== Pour DEV (à supprimer)
URL racine http://localhost:8080:/esignsante-psc/v1 +
version: +
artifact: +

start class (from POM properties)=>:: {start-class}

<balise></balise>
& é è " ^ $ à ç 

== Interrogation de l'API
Liste des services exposés

=== cas passant simple
.request
http:
include::{snippets}/Liste_des_services/OK/http-request.adoc[]

httpIE:
include::{snippets}/Liste_des_services/OK/httpie-request.adoc[]

Requête avec curl:
include::{snippets}/Liste_des_services/OK/curl-request.adoc[]

.response
include::{snippets}/Liste_des_services/OK/http-response.adoc[]

Payload:
include::{snippets}/Liste_des_services/OK/response-body.adoc[]

=== cas passant 2 header 'accept'

http:
include::{snippets}/Liste_des_services/OK_BIS/http-request.adoc[]

httpIE:
include::{snippets}/Liste_des_services/OK_BIS/httpie-request.adoc[]

Requête avec curl
include::{snippets}/Liste_des_services/OK_BIS/curl-request.adoc[]

.response
include::{snippets}/Liste_des_services/OK_BIS/http-response.adoc[]

Payload:
include::{snippets}/Liste_des_services/OK_BIS/response-body.adoc[]


=== cas non passant mauvais header accept

http:
include::{snippets}/Liste_des_services/KO_NotAcceptable/http-request.adoc[]

httpIE:
include::{snippets}/Liste_des_services/KO_NotAcceptable/httpie-request.adoc[]

Requête avec curl:
include::{snippets}/Liste_des_services/KO_NotAcceptable/curl-request.adoc[]

.response
include::{snippets}/Liste_des_services/KO_NotAcceptable/http-response.adoc[]

Payload:
include::{snippets}/Liste_des_services/KO_NotAcceptable/response-body.adoc[]


== Demande de la liste des Cas

=== Cas passant
.request
include::{snippets}/CA/OK/http-request.adoc[]

payload:
include::{snippets}/CA/OK/request-body.adoc[]


.response
include::{snippets}/CA/OK/http-response.adoc[]

payload:
include::{snippets}/CA/OK/response-body.adoc[]


=== Cas Token Invalid
.request
include::{snippets}/signature/TokenKo/http-request.adoc[]

payload:
include::{snippets}/signature/TokenKo/request-body.adoc[]


.response
include::{snippets}/signature/TokenKo/http-response.adoc[]

=== Cas Header Accept non Json
.request
include::{snippets}/signature/HeaderKO/http-request.adoc[]

payload:
include::{snippets}/signature/HeaderKO/request-body.adoc[]


.response
include::{snippets}/signature/HeaderKO/http-response.adoc[]


=== Cas Stream In KO
.request
include::{snippets}/signature/StreamKo/http-request.adoc[]


.response
include::{snippets}/signature/StreamKo/http-response.adoc[]







